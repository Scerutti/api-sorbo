# Autor: Cursor - Fecha: 2025-11-12

# HOST determina la interfaz en la que Fastify escuchara. 0.0.0.0 permite acceso desde la red local.
HOST=0.0.0.0

# PORT define el puerto HTTP del servidor.
PORT=3000

# NODE_ENV controla el modo de ejecucion (development, production, test).
NODE_ENV=development

# CORS_ORIGINS lista separada por comas con los origenes permitidos para peticiones desde el frontend.
CORS_ORIGINS=http://localhost:5173,http://localhost:4200

# COOKIE_SECRET clave usada para firmar cookies (al menos 32 caracteres).
COOKIE_SECRET=local-cookie-secret-change-me-32-chars-min

# ENABLE_CSRF habilita la proteccion CSRF cuando se usan cookies HttpOnly (true/false).
ENABLE_CSRF=false

# RATE_LIMIT_MAX numero maximo de solicitudes permitidas por ventana de tiempo.
RATE_LIMIT_MAX=100

# RATE_LIMIT_WINDOW ventana de tiempo para el rate limit (ej. 1 minute, 10 minutes).
RATE_LIMIT_WINDOW=1 minute

# MONGO_URI cadena de conexion completa a MongoDB. Para transacciones se requiere replicaset.
MONGO_URI=mongodb://sorbo-user:sorbo-pass@localhost:27017/sorbo-sabores?authSource=admin

# MONGO_DB nombre de la base de datos usada por la aplicacion.
MONGO_DB=sorbo-sabores

# JWT_SECRET clave usada para firmar tokens de acceso cuando se utilice algoritmo simetrico (HS256).
JWT_SECRET=local-access-secret-change-me

# JWT_ACCESS_EXPIRES duracion del token de acceso (ej. 15m, 10m).
JWT_ACCESS_EXPIRES=15m

# JWT_REFRESH_SECRET clave usada para firmar o hashear tokens de refresh.
JWT_REFRESH_SECRET=local-refresh-secret-change-me

# JWT_REFRESH_EXPIRES duracion del refresh token (ej. 7d, 30d).
JWT_REFRESH_EXPIRES=7d

# JWT_PRIVATE_KEY_PATH ruta al archivo con la clave privada (si se usa RS256).
# JWT_PRIVATE_KEY_PATH=./secrets/jwtRS256.key

# JWT_PUBLIC_KEY_PATH ruta al archivo con la clave publica (si se usa RS256).
# JWT_PUBLIC_KEY_PATH=./secrets/jwtRS256.key.pub

# LOG_LEVEL define el nivel minimo de logs para pino (fatal, error, warn, info, debug, trace).
LOG_LEVEL=debug

# SWC_THREADS controla el numero de hilos usados en compilacion (opcional).
SWC_THREADS=4

# -------------------------------------------------------------------
# Notas para produccion:
# - Generar secretos unicos y robustos (COOKIE_SECRET, JWT_SECRET, JWT_REFRESH_SECRET o claves RS256).
# - Configurar CORS_ORIGINS solo con los dominios permitidos en produccion y habilitar ENABLE_CSRF si se usan cookies.
# - Usar una base de datos gestionada con replicaset habilitado para permitir transacciones (actualizar MONGO_URI y MONGO_DB).
# - Establecer NODE_ENV=production, ajustar LOG_LEVEL=info y endurecer RATE_LIMIT_MAX y RATE_LIMIT_WINDOW segun el trafico esperado.
# - Mantener las claves privadas fuera del repositorio, idealmente en un Secret Manager o variables de entorno del proveedor.
